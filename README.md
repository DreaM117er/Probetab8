# Probetab8

## 說明

Probetab8這張電路板對我來說是一個很重要的里程，這張已經公開上傳的電路板檔案是我設計這張電路板的第三個版本，我動用了Google的Gemini Flash，在已經既有的電路板基礎之下，持續跟它聊天、解析、構思、解套各種各樣的電路學知識，讓我擁有很完美設計一張屬於自己的RP2040電路板的能力。

第一個版本是我第一次使用JLCPCB的PCBA製程，但很可惜地這張板子完全沒有功能，也無法除錯，因爲少設置SWDIO、SWCLK這兩個燒錄接口，完全無法除錯，最終以失敗告終。

第二個版本我新增了Debug的接口，但我忘記設置了VBUS、5V、3V3等Input/Output接口，讓我在除錯方面也費了不少心思，最後發現有三個失敗的可能性：一是RP2040晶片被我用加熱台跟電烙鐵燒壞、二是QSPI晶片走線的問題、三是RP2040虛焊的問題。

跟Gemini聊天的結論大致上分爲幾個：

### 加熱台的正確使用方式：

1. 加熱台的功能爲"預熱"。

晶片對溫度來說相當地敏感，因此在Datasheet都有說明它的加熱溫度曲線圖，一般的晶片是如此，更不用說我使用的是RP2040這顆很強大的核心晶片，如果不正確的使用工具，對於核心晶片的損傷相當地大，如同我的第二張板子一樣，不管如何Debug測試就是無法連接QSPI BOOT。

RP2040是跟其他晶片有所不一樣，像是STM32是屬於將BOOT Flash功能設計在一起的結構，但RP2040不一樣，它將這個功能額外拉出來給了QSPI晶片負責，因此QSPI就就相當於RP2040對接電腦的通訊機構，如果無法呼喚它，你就無法告訴RP2040你要做什麼事情。

沒錯，我的晶片壞掉的可能性之一就是"熱衝擊"，我加熱台用了220度去焊接晶片，殊不知可能在一開始的時候就已經燒壞晶片了，後續的拖焊什麼的都顯得無意義。

2. 加熱台正確的使用方式。

焊錫及錫膏在我們購買的當下就會知道它的熔點是幾度，以我來說，我的焊錫及錫膏都屬於183度。這樣的資訊對你在使用不同的加熱工具時，都有不少的"眉角"。

比方焊接RP2040的時候，假設我沒有定製鋼網輔助，我直接將錫膏少量擠在焊盤上，再用刷子刷上一層助焊膏，並且這個動作也能調整錫膏的量。於是我們將晶片放上去，加熱台恆溫150度再將PCB放上去，這時錫膏裡的助焊及助焊膏都會稍稍融化變成液狀，但焊錫還不會固定。這個時候電烙鐵設置250度，一手反轉鑷子使用背面，壓住RP2040，一手直接用稍微多一點的焊錫直接對晶片的引腳進行拖焊，你會發現比你從室溫直接焊接來的快速容易許多。

同樣地，USB-C接口的16pin、QSPI晶片、LDO、ESD等元件都是使用相同的做法焊接，難度偏高但很容易執行。

由於焊錫錫膏的熔點爲183度，其他的元件就可以直接使用加熱台簡單焊接，並且稍稍固定起來之後再使用烙鐵補錫以免虛焊。

加熱台從我原先的主流角色轉變成輔助角色，而烙鐵一直以來都還是我的主力。

### 認識晶片

1. RP2040，是一顆相當強大的MCU，合計有30個GPIO可供你做使用，並且每個GPIO都有幾個專屬的特殊功能，像是UART、I2C、ADC、SPI等通訊協議，再者它會需要按照幾個官方Datasheet的方式做去藕電容的連接，以去除不必要的訊號干擾。
2. W25Q128JVS對RP2040來說是一個相當重要的晶片，它作爲Bootloader使用，讀取我們熟知的"RPI燒錄硬碟"，如果它沒有正常連接，就無法正常啓動RP2040，我們稱它爲QSPI。
3. SRV05-4是一顆電源保護元件，用於訊號及電壓突波保護整張電路板，直連USB接口等通電直連的位置（也就是VBUS），會搭配保險絲（Fuse）做使用。
4. RT9013-33GB是一顆穩壓器，從USB進入的電壓VBUS固定爲5V，但RP2040的啓動條件爲3V3，你需要一個將5V轉成"穩定"且"純淨"的3V3做使用，元件後面的"33"代表穩定輸出3V3的電壓的意思。
5. Crystal，中文稱爲晶振或石英振盪器，用於RP2040的序號啓動，在選擇晶振的時候最好選擇有Datasheet的，因爲它會根據Datasheet告訴你這顆晶振的起震條件爲多少pF。

### 認識電阻及電容

1. 電阻爲完整電路當中，作爲電位差而使用的東西，畢竟在相同的電壓之下，每種元件都有屬於自己的電阻，你要計算這個元件需要多大的電阻才能穩定的驅動；再者作爲穩定電位差而使用，上拉或下拉電平來穩定訊號工作。
2. 電容有著過濾及儲存的功能，爲電路提供穩定的電壓，好比可以過濾水的蓄水池一樣。

### 電路設計：

由於我不是電子電路科系出身，僅僅因爲個人"興趣"而踏入這個世界，在經歷過好幾次的失敗過後，會一直嘗試並瞭解自己到底哪裡出了問題。

1. VIA孔不要打太多的迷思：

我的好鍵友James Sa曾經對我說過，"不要在電路板上打太多VIA孔，工廠會跟你多收錢"。

這句話背後還有一個很深的含義，只有在真正踏入電子電路設計領域的時候才會慢慢知悉——VIA孔本身也是一個很微小的電阻，因此你打太多會對高頻率的訊號產生不穩定，甚至是折損；再者由於VIA孔的增多，工廠在生產板子的時候的時長增加，也就因而跟你加收工錢。這也是這個迷思的由來，但我們只知道後者，前者就如同我段落開頭所述，進入進階的電子設計領域才會知道。

2. VIA總數的限制：
- 高頻訊號線可使用的VIA總數在"0-2"個左右，也就是要嘛直通、要嘛最多就2個VIA，用於像是"USB D+"、"USB D-"的訊號線，或是穩定供電的電源線等。
- 其他的訊號線能儘量減少，就減少使用VIA。

也就是越少越好，特別是高頻訊號直通最好。

3. 電壓及水壓、水池及電面

電及水都屬於流體，於是我嘗試用這個方式讓Gemini讓我解惑。

- 
